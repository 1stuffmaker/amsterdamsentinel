<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Amsterdam Sentinel — Validator</title>
<meta name="description" content="Amsterdam Sentinel — Synternet validator. Live status, uptime and delegation links." />

<!-- tsParticles CDN for particle network -->
<script src="https://cdn.jsdelivr.net/npm/tsparticles-engine@3.4.4/tsparticles.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/tsparticles-slim@3.4.4/tsparticles.slim.min.js" defer></script>

<style>
  :root{
    --bg:#04060a;
    --panel:#07121a;
    --accent:#58a6ff;
    --accent-2:#2dd4bf;
    --muted:#9aa6b2;
    --glass: rgba(255,255,255,0.03);
    --max-width:1200px;
    --radius:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial}
  body{background:linear-gradient(180deg,#03060a,#04101a);color:#eaf4fb;overflow-x:hidden}

  /* Canvas / hero layout */
  #bg {
    position:fixed;inset:0;z-index:0;
    background: radial-gradient(ellipse at 10% 10%, rgba(40,70,120,0.06) 0%, transparent 25%),
                radial-gradient(ellipse at 90% 90%, rgba(20,100,140,0.04) 0%, transparent 20%);
    will-change:transform;
  }
  /* animated diagonal beams layer */
  .beams{
    position:fixed; inset:0; z-index:1; pointer-events:none; mix-blend-mode:screen; opacity:0.7;
    background:
      radial-gradient(1200px 800px at 20% 10%, rgba(88,166,255,0.06), transparent 60%),
      radial-gradient(900px 700px at 80% 90%, rgba(45,212,191,0.05), transparent 55%),
      repeating-linear-gradient(115deg,
        rgba(88,166,255,0.00) 0px,
        rgba(88,166,255,0.00) 46px,
        rgba(88,166,255,0.09) 46px,
        rgba(88,166,255,0.09) 54px,
        rgba(88,166,255,0.00) 54px,
        rgba(88,166,255,0.00) 100px);
    background-size: auto, auto, 140% 140%;
    animation: moveBeams 28s linear infinite;
    will-change: transform, background-position;
    filter: blur(0.3px);
  }
  @keyframes moveBeams{
    0%{ background-position: 0 0, 0 0, 0 0; }
    100%{ background-position: 0 0, 0 0, 140% 140%; }
  }
  /* subtle overlay lines (data stream) */
  .data-lines {
    position:fixed; left:0; right:0; top:0; bottom:0; pointer-events:none; z-index:2;
    mix-blend-mode:screen; opacity:0.85;
    will-change:transform;
  }

  /* Page content */
  .site {
    position:relative; z-index:3; max-width:var(--max-width); margin:0 auto; padding:36px 20px;
    display:flex;flex-direction:column;gap:28px;
  }

  header{
    display:flex;gap:16px;align-items:center;
  }
  .avatar{width:72px;height:72px;border-radius:12px;overflow:hidden;border:2px solid rgba(255,255,255,0.03);box-shadow:0 10px 30px rgba(2,6,8,0.6)}
  .avatar img{width:100%;height:100%;object-fit:cover;display:block}
  .title {display:flex;flex-direction:column}
  .title h1{margin:0;font-size:22px}
  .title p{margin:6px 0 0;color:var(--muted);font-size:14px}

  /* Big hero area with screenshot preview */
  .hero {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:var(--radius);
    overflow:hidden;
    display:flex;
    flex-direction:column;
    box-shadow:0 14px 50px rgba(2,6,8,0.6);
    border:1px solid rgba(255,255,255,0.02);
  }
  /* break hero out of the centered max-width container for full-bleed */
  .hero.full-bleed{
    width:100vw; max-width:100vw;
    margin-left:calc(50% - 50vw); margin-right:calc(50% - 50vw);
    border-radius:0; border-left:0; border-right:0;
  }
  /* new constrained version: add side breathing room (approx 1.5cm ≈ 56px each side on large screens) */
  .hero-constrained{ margin: 0 auto; width:100%; max-width:calc(var(--max-width) + 160px); padding:0 56px; }
  .hero-constrained .hero-img{ border-radius: 10px 10px 0 0; }

  /* metrics chip bar */
  .metrics-bar{display:flex;flex-wrap:wrap;gap:14px;margin:10px auto 4px; padding:0 4px;}
  .metric-chip{position:relative;display:flex;flex-direction:column;min-width:140px;padding:10px 14px;border-radius:14px;background:linear-gradient(145deg,#06121c,#071c2b);border:1px solid rgba(255,255,255,0.06);box-shadow:0 4px 20px -4px #02080c inset,0 6px 18px -8px rgba(0,0,0,0.6);overflow:hidden;font-size:13px;letter-spacing:.25px}
  .metric-chip:before{content:"";position:absolute;inset:0;background:linear-gradient(120deg,rgba(88,166,255,0.18),rgba(45,212,191,0.15),rgba(88,166,255,0.18));background-size:220% 220%;animation: chipFlow 8s linear infinite;opacity:.35;mix-blend-mode:overlay;}
  .metric-chip strong{font-size:12px;font-weight:600;color:var(--muted);text-transform:uppercase;letter-spacing:.4px}
  .metric-value{font-size:20px;font-weight:600;background:linear-gradient(90deg,#58a6ff,#2dd4bf);-webkit-background-clip:text;background-clip:text;color:transparent;line-height:1.2;margin-top:2px}
  .metric-delta{font-size:11px;margin-top:4px;color:#2dd4bf;display:flex;align-items:center;gap:3px;white-space:nowrap}
  .metric-delta.neg{color:#ff6b6b}
  @keyframes chipFlow{0%{background-position:0 50%}100%{background-position:200% 50%}}
  @media (max-width:760px){.metric-chip{min-width:calc(50% - 7px);flex:1}}
  .hero-img{
    width:100%; display:block; height:auto; object-fit:cover;
  }
  .hero-bar{
    display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(180deg, rgba(2,8,12,0.35), rgba(2,8,12,0.25));
  }
  .muted{color:var(--muted)}
  .cta {display:flex;gap:10px;align-items:center}

  .btn {
    display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:10px;background:var(--accent);color:#021018;font-weight:700;text-decoration:none;box-shadow:0 8px 24px rgba(88,166,255,0.12);
  }
  .btn.ghost { background:transparent;border:1px solid rgba(255,255,255,0.04); color:var(--muted); padding:8px 12px; }

  /* Stats / quicklinks */
  .grid {display:grid; grid-template-columns:1fr 360px; gap:20px; margin-top:18px}
  .card{background:var(--panel); padding:18px; border-radius:12px; box-shadow:0 8px 30px rgba(2,6,8,0.6); border:1px solid rgba(255,255,255,0.02)}
  .links a{display:block;color:inherit;padding:8px;border-radius:8px;text-decoration:none}
  .links a:hover{background:rgba(255,255,255,0.02)}

  footer{color:var(--muted);font-size:13px;padding:40px 0;text-align:center}

  /* responsive */
  @media (max-width:1000px){.grid{grid-template-columns:1fr}.title{text-align:left}}

  /* motion preferences */
  @media (prefers-reduced-motion: reduce){
    .beams{ animation: none; }
  }
</style>
</head>
<body>
  <!-- particles container -->
  <div id="bg"></div>

  <!-- animated beams overlay -->
  <div class="beams" aria-hidden="true"></div>

  <!-- thin svg overlay for flowing data lines -->
  <svg class="data-lines" width="100%" height="100%" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <linearGradient id="g1" x1="0" x2="1">
        <stop offset="0" stop-color="#58a6ff" stop-opacity="0.18"/>
        <stop offset="1" stop-color="#2dd4bf" stop-opacity="0.06"/>
      </linearGradient>
    </defs>
    <g id="lines"></g>
  </svg>

  <!-- main content -->
  <div class="site" role="main">
    <header>
      <div class="avatar"><img src="/assets/validator.jpg" alt="Validator avatar"></div>
      <div class="title">
        <h1>Amsterdam Sentinel</h1>
        <p>Validator — Synternet</p>
      </div>

      <!-- small right-side action area -->
      <div style="margin-left:auto;display:flex;flex-direction:column;gap:8px;align-items:flex-end">
        <div style="display:flex;gap:8px">
          <a class="btn" href="https://amsterdamsentinel.grafana.net/public-dashboards/d93f8182bbf84d9f89bca0d105e8e230" target="_blank">Open Dashboard</a>
          <a class="btn ghost" href="https://restake.app/synternet/syntvaloper1egrl432asrtcu9t5m0z7cjndn29n4makatcqux/stake" target="_blank">Delegate</a>
        </div>
        <div class="muted" style="font-size:13px">0% commission — promo until 20 Oct</div>
      </div>
    </header>

    <!-- metric chips -->
    <div class="metrics-bar" aria-label="Key validator metrics">
      <div class="metric-chip" id="chip-uptime"><strong>Uptime (24h)</strong><div class="metric-value" data-static="99.9%">99.9%</div><div class="metric-delta" id="uptime-delta">+0.0%</div></div>
      <div class="metric-chip" id="chip-commission"><strong>Commission</strong><div class="metric-value">0%</div><div class="metric-delta">Promo</div></div>
      <div class="metric-chip" id="chip-blocks"><strong>Blocks Signed</strong><div class="metric-value" data-static="—" id="blocks-signed">—</div><div class="metric-delta" id="blocks-rate">loading</div></div>
      <div class="metric-chip" id="chip-missed"><strong>Missed (24h)</strong><div class="metric-value" id="missed-count">0</div><div class="metric-delta neg" id="missed-delta">clean</div></div>
      <div class="metric-chip" id="chip-voting"><strong>Voting Power</strong><div class="metric-value" id="voting-power">—</div><div class="metric-delta" id="voting-rank">rank —</div></div>
    </div>

    <!-- hero with screenshot preview (constrained) -->
    <section class="hero hero-constrained" aria-label="Grafana screenshot">
      <img class="hero-img" src="/screenshots/dashboard_cropped.png" alt="Grafana screenshot — Amsterdam Sentinel" />
      <div class="hero-bar">
        <div class="muted">Live Grafana screenshot — near real-time</div>
        <div class="cta">
          <div class="muted" id="lastUpdated">Last updated —</div>
          <a class="btn" href="https://amsterdamsentinel.grafana.net/public-dashboards/d93f8182bbf84d9f89bca0d105e8e230" target="_blank">Open Live Dashboard</a>
        </div>
      </div>
    </section>

    <!-- main two column area -->
    <div class="grid">
      <section class="card">
        <h3>Validator overview</h3>
        <div style="display:flex;gap:10px;margin-top:10px;flex-wrap:wrap">
          <div style="min-width:120px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px"><strong>Validator</strong><div class="muted">Amsterdam Sentinel</div></div>
          <div style="min-width:120px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px"><strong>Chain</strong><div class="muted">Synternet</div></div>
          <div style="min-width:140px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px"><strong>Commission</strong><div class="muted">0% until 20 Oct</div></div>
        </div>

        <p class="muted" style="margin-top:12px">Transparent performance metrics and uptime. Use the dashboard to verify missed blocks, slashing, peers and resource usage.</p>

        <h4 style="margin-top:16px">Notes</h4>
        <ul style="color:var(--muted)">
          <li>Verify validator address before delegating.</li>
          <li>Contact <a href="https://t.me/AmsterdamSentinel" target="_blank" style="color:var(--accent)">Telegram</a> for questions.</li>
        </ul>
      </section>

      <aside class="card">
        <h3>Quick links</h3>
        <div class="links" style="margin-top:8px">
          <a href="https://restake.app/synternet/syntvaloper1egrl432asrtcu9t5m0z7cjndn29n4makatcqux/stake" target="_blank">🔁 REStake — Automatic restaking</a>
          <a href="https://t.me/AmsterdamSentinel" target="_blank">💬 Telegram</a>
          <a href="https://explorer.synternet.com/validators/syntvaloper1egrl432asrtcu9t5m0z7cjndn29n4makatcqux" target="_blank">🔎 Validator Explorer</a>
          <a href="https://staking.synternet.com/" target="_blank">🪙 Synternet Staking</a>
          <a href="https://staking.synternet.com/faq/" target="_blank">❓ Staking FAQ</a>
        </div>
      </aside>
    </div>

    <footer>
      © <span id="year"></span> Amsterdam Sentinel — Run by a decentralised community
    </footer>
  </div>

<script>
  // fill year + lastUpdated
  document.getElementById('year').textContent = new Date().getFullYear();
  function updateTime(){ const el = document.getElementById('lastUpdated'); if(el) el.textContent = 'Last updated: ' + new Date().toLocaleString(); }
  updateTime(); setInterval(updateTime, 60_000);

  /* ------ tsParticles init (particle network with links) ------ */
  window.addEventListener('load', async () => {
    // load slim which contains network/links support
    if (window.tsParticles) {
      tsParticles.load('bg', {
        fpsLimit: 60,
        background: { color: { value: 'transparent' } },
        particles: {
          number: { value: 70, density: { enable: true, area: 800 } },
          color: { value: ['#58a6ff', '#2dd4bf'] },
          shape: { type: 'circle' },
          opacity: { value: 0.65 },
          size: { value: { min: 1, max: 3 } },
          move: {
            enable: true,
            speed: 0.9,
            direction: 'none',
            outModes: { default: 'bounce' },
            attract: { enable: false }
          },
          links: {
            enable: true,
            distance: 160,
            color: '#58a6ff',
            opacity: 0.12,
            width: 1
          }
        },
        interactivity: {
          detectsOn: 'canvas',
          events: {
            onHover: { enable: true, mode: 'grab' },
            onClick: { enable: true, mode: 'push' },
            resize: true
          },
          modes: {
            grab: { distance: 160, links: { opacity: 0.25 } },
            push: { quantity: 2 }
          }
        },
        detectRetina: true
      });
    }
  });

  /* ------ simple animated SVG "data stream" lines ------ */
  (function animateLines(){
    const svgNS = "http://www.w3.org/2000/svg";
    const g = document.getElementById('lines');
    if(!g) return;
    const w = window.innerWidth, h = window.innerHeight;
    const lineCount = 8;
    const lines = [];
    for(let i=0;i<lineCount;i++){
      const path = document.createElementNS(svgNS, 'path');
      const y = Math.round((i+1)/(lineCount+1) * h);
      const amplitude = 18 + Math.random()*50;
      const speed = 0.0015 + Math.random()*0.0025;
      path.setAttribute('fill','none');
      path.setAttribute('stroke','url(#g1)');
      path.setAttribute('stroke-width','1.2');
      path.setAttribute('opacity', 0.9 - i*0.06);
      g.appendChild(path);
      lines.push({path,y,amplitude,speed,offset:Math.random()*1000});
    }

    function frame(t){
      const W = window.innerWidth, H = window.innerHeight;
      lines.forEach(obj=>{
        const pts = [];
        const segments = 12;
        for(let s=0;s<=segments;s++){
          const x = s/segments * W;
          const n = Math.sin((s*0.8 + (t*obj.speed) + obj.offset) * 0.008);
          const yy = obj.y + n * obj.amplitude;
          pts.push([x, yy]);
        }
        // build smooth path
        let d = `M ${pts[0][0]} ${pts[0][1]}`;
        for(let k=1;k<pts.length;k++){
          const [x,y]=pts[k];
          d += ` L ${x} ${y}`;
        }
        obj.path.setAttribute('d', d);
      });
      requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
    // handle resize
    window.addEventListener('resize', ()=>{ /* no-op, path generation uses window dims each frame */ });
  })();

  /* ------ light parallax on pointer move ------ */
  (function parallax(){
    const fine = window.matchMedia('(pointer: fine)').matches;
    const noMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if(!fine || noMotion) return;
    const bg = document.getElementById('bg');
    const beams = document.querySelector('.beams');
    const lines = document.querySelector('.data-lines');
    let raf = 0, tx = 0, ty = 0;
    window.addEventListener('pointermove', (e)=>{
      const x = (e.clientX / window.innerWidth - 0.5);
      const y = (e.clientY / window.innerHeight - 0.5);
      tx = x * 12; ty = y * 12; // max px
      if(raf) cancelAnimationFrame(raf);
      raf = requestAnimationFrame(()=>{
        if(bg) bg.style.transform = `translate3d(${(tx*0.5).toFixed(2)}px, ${(ty*0.5).toFixed(2)}px, 0)`;
        if(beams) beams.style.transform = `translate3d(${tx.toFixed(2)}px, ${ty.toFixed(2)}px, 0)`;
        if(lines) lines.style.transform = `translate3d(${(tx*0.8).toFixed(2)}px, ${(ty*0.8).toFixed(2)}px, 0)`;
      });
    });
  })();

  /* ------ mock dynamic metric updates (placeholder for real API) ------ */
  (function metrics(){
    const supports = typeof fetch === 'function';
    const elBlocks = document.getElementById('blocks-signed');
    const elRate = document.getElementById('blocks-rate');
    let baseline = Date.now();
    let blocks = 0;
    function tick(){
      // simple simulated increment; replace with chain RPC call
      const elapsedMin = (Date.now() - baseline)/60000;
      blocks = Math.floor(elapsedMin * 12); // pretend 12 blocks/min
      if(elBlocks) elBlocks.textContent = blocks.toLocaleString();
      if(elRate) elRate.textContent = '~' + (12).toString() + '/min';
      requestAnimationFrame(()=>setTimeout(tick, 5000));
    }
    tick();
  })();
</script>
</body>
</html>
